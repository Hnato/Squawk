<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="https://github.com/avaloniaui"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Squawk.AvaloniaPanel"
        x:Class="Squawk.AvaloniaPanel.MainWindow"
        Width="1024"
        Height="680"
        Background="{StaticResource BrushBackground}"
        Foreground="{StaticResource BrushWhite}"
        mc:Ignorable="d"
        Title="SquawkServer">
  <Window.Resources>
    <local:StatusToColorConverter x:Key="StatusToColorConverter" />
    <local:StatusToTextConverter x:Key="StatusToTextConverter" />
  </Window.Resources>
  <Grid RowDefinitions="Auto,Auto,Auto,*"
        Margin="40">

    <Border Grid.Row="0"
            HorizontalAlignment="Center"
            Margin="0,0,0,30">
      <TextBlock Text="SquawkServer"
                 FontSize="48"
                 FontWeight="Bold"
                 Foreground="{StaticResource BrushTitle}"
                 FontFamily="Segoe UI" />
    </Border>

    <Grid Grid.Row="1"
          ColumnDefinitions="*,*,*"
          HorizontalAlignment="Center"
          Margin="0,0,0,30"
          Width="650">

      <!-- WÅ‚Ä…cz Silnik Gry -->
      <Button Grid.Column="0"
              Command="{Binding ToggleGameCommand}"
              Background="Transparent" BorderThickness="0" Padding="0">
        <Border Classes="button-frame" Margin="0,0,20,0">
          <Border Classes="button-inner" Background="{Binding IsGameRunning, Converter={StaticResource StatusToColorConverter}}">
            <Grid ColumnDefinitions="Auto,*" VerticalAlignment="Center">
              <Border Width="36" Height="36" CornerRadius="18" Background="#FF6A1A" Margin="0,0,8,0">
                <TextBlock Text="ðŸ”¥" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" />
              </Border>
              <TextBlock Grid.Column="1" Classes="button-label" 
                         Text="{Binding IsGameRunning, Converter={StaticResource StatusToTextConverter}, ConverterParameter='Silnik Gry'}" />
            </Grid>
          </Border>
        </Border>
      </Button>

      <!-- WÅ‚Ä…cz Strona -->
      <Button Grid.Column="1"
              Command="{Binding ToggleWebCommand}"
              Background="Transparent" BorderThickness="0" Padding="0">
        <Border Classes="button-frame" Margin="10,0">
          <Border Classes="button-inner" Background="{Binding IsNetworkRunning, Converter={StaticResource StatusToColorConverter}}">
            <Grid ColumnDefinitions="Auto,*" VerticalAlignment="Center">
              <Border Width="36" Height="36" CornerRadius="8" Background="#E5BE55" Margin="0,0,8,0">
                <TextBlock Text="ðŸ " FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
              </Border>
              <TextBlock Grid.Column="1" Classes="button-label"
                         Text="{Binding IsNetworkRunning, Converter={StaticResource StatusToTextConverter}, ConverterParameter='Strona'}" />
            </Grid>
          </Border>
        </Border>
      </Button>

      <!-- WÅ‚Ä…cz Boty -->
      <Button Grid.Column="2"
              Command="{Binding ToggleBotsCommand}"
              Background="Transparent" BorderThickness="0" Padding="0">
        <Border Classes="button-frame" Margin="20,0,0,0">
          <Border Classes="button-inner" Background="{Binding AreBotsEnabled, Converter={StaticResource StatusToColorConverter}}">
            <Grid ColumnDefinitions="Auto,*" VerticalAlignment="Center">
              <Border Width="36" Height="36" CornerRadius="18" Background="#B0B0B0" Margin="0,0,8,0">
                <TextBlock Text="â˜ " FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" />
              </Border>
              <TextBlock Grid.Column="1" Classes="button-label"
                         Text="{Binding AreBotsEnabled, Converter={StaticResource StatusToTextConverter}, ConverterParameter='Boty'}" />
            </Grid>
          </Border>
        </Border>
      </Button>
    </Grid>

    <Border Grid.Row="2"
            Background="{StaticResource BrushConsoleHeader}"
            CornerRadius="6"
            Padding="16,8"
            Margin="0,0,0,8"
            HorizontalAlignment="Left">
      <TextBlock Text="Console Output:"
                 FontFamily="Segoe UI"
                 FontSize="18"
                 FontWeight="Bold"
                 Foreground="{StaticResource BrushWhite}" />
    </Border>

    <Border Grid.Row="3"
            Background="#3B2C20"
            BorderBrush="#715031"
            BorderThickness="6"
            CornerRadius="8">
      <Border Background="{StaticResource BrushConsoleBack}"
              CornerRadius="4"
              Margin="6">
        <ScrollViewer Margin="16" VerticalScrollBarVisibility="Auto">
          <ItemsControl ItemsSource="{Binding Logs}">
            <ItemsControl.ItemTemplate>
              <DataTemplate>
                <TextBlock Classes="console-line" Text="{Binding}" />
              </DataTemplate>
            </ItemsControl.ItemTemplate>
          </ItemsControl>
        </ScrollViewer>
      </Border>
    </Border>
  </Grid>
</Window>
